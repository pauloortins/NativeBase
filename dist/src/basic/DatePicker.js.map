{"version":3,"sources":["../../../src/basic/DatePicker.js"],"names":["DatePicker","props","componentDidMount","setState","defaultDate","Date","state","modalVisible","chosenDate","undefined","date","onDateChange","Platform","OS","openAndroidDatePicker","DatePickerAndroid","open","minDate","minimumDate","maxDate","maximumDate","mode","androidMode","newDate","action","year","month","day","selectedDate","code","message","console","warn","variables","context","theme","variable","showDatePicker","bind","padding","color","datePickerTextColor","textStyle","placeHolderTextStyle","getDate","getMonth","getFullYear","placeHolderText","animationType","modalTransparent","backgroundColor","datePickerBg","flex","overlayIosStyle","styles","modalBtnContainer","modelBtnContainerIosStyle","modalButtonIosStyle","modalButtonTextIosStyle","modalButtonTextIos","setDate","locale","datePickerIosStyle","timeZoneOffsetInMinutes","React","Component","StyleSheet","create","width","alignItems","flexDirection","justifyContent","paddingHorizontal","marginTop"],"mappings":"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","file":"DatePicker.js","sourcesContent":["import React from \"react\";\nimport {\n  Modal,\n  View,\n  Platform,\n  DatePickerIOS,\n  DatePickerAndroid,\n  StyleSheet\n} from \"react-native\";\nimport { Text, Button } from \"native-base\";\nimport variable from \"../theme/variables/platform\";\n\nexport class DatePicker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      defaultDate: new Date(),\n      chosenDate: undefined\n    };\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      defaultDate: this.props.defaultDate ? this.props.defaultDate : new Date()\n    });\n  };\n\n  setDate(date) {\n    this.setState({ chosenDate: new Date(date) });\n    if (this.props.onDateChange) {\n      this.props.onDateChange(date);\n    }\n  }\n\n  showDatePicker() {\n    if (Platform.OS === \"android\") {\n      this.openAndroidDatePicker();\n    } else {\n      this.setState({ modalVisible: true });\n    }\n  }\n\n  async openAndroidDatePicker() {\n    try {\n      const newDate = await DatePickerAndroid.open({\n        date: this.state.chosenDate\n          ? this.state.chosenDate\n          : this.state.defaultDate,\n        minDate: this.props.minimumDate,\n        maxDate: this.props.maximumDate,\n        mode: this.props.androidMode\n      });\n      const { action, year, month, day } = newDate;\n      if (action === \"dateSetAction\") {\n        let selectedDate = new Date(year, month, day);\n        this.setState({ chosenDate: selectedDate });\n        this.props.onDateChange(selectedDate);\n      }\n    } catch ({ code, message }) {\n      console.warn(\"Cannot open date picker\", message);\n    }\n  }\n\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <View>\n        <View>\n          <Text\n            onPress={this.showDatePicker.bind(this)}\n            style={[\n              { padding: 10, color: variables.datePickerTextColor },\n              this.state.chosenDate ? this.props.textStyle : this.props.placeHolderTextStyle\n            ]}\n          >\n            {this.state.chosenDate\n              ? this.state.chosenDate.getDate() +\n                \"/\" +\n                (this.state.chosenDate.getMonth() + 1) +\n                \"/\" +\n                +this.state.chosenDate.getFullYear()\n                : this.props.placeHolderText\n                  ? this.props.placeHolderText\n                  : \"Select Date\"}\n          </Text>\n          <View>\n            <Modal\n              animationType={this.props.animationType}\n              transparent={this.props.modalTransparent} //from api\n              visible={this.state.modalVisible}\n              onRequestClose={() => {}}\n            >\n              <Text\n                onPress={() => this.setState({ modalVisible: false })}\n                style={\n                  [{\n                    backgroundColor: variables.datePickerBg, \n                    flex: 1 \n                  },\n                  this.props.overlayIosStyle]}\n              />\n              <View style={[styles.modalBtnContainer, this.props.modelBtnContainerIosStyle]}>\n                <Button                                  \n                  style={this.props.modalButtonIosStyle}                  \n                  onPress={() => this.setState({ modalVisible: false })}>\n                  <Text style={this.props.modalButtonTextIosStyle}>{this.props.modalButtonTextIos}</Text>\n                </Button>\n              </View>\n              <DatePickerIOS\n                date={\n                  this.state.chosenDate\n                    ? this.state.chosenDate\n                    : this.state.defaultDate\n                }\n                onDateChange={this.setDate.bind(this)}\n                minimumDate={this.props.minimumDate}\n                maximumDate={this.props.maximumDate}\n                mode=\"date\"\n                locale={this.props.locale}\n                style={this.props.datePickerIosStyle}\n                timeZoneOffsetInMinutes={this.props.timeZoneOffsetInMinutes}\n              />\n            </Modal>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  modalBtnContainer: {\n    width: '100%',\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    paddingHorizontal: 15,\n    marginTop: 0,    \n  }\n});\n"]}